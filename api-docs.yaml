openapi: 3.0.1
info:
  title: OpenAPI definition
  version: v0
servers:
  - url: http://localhost:8080
    description: Generated server url
tags:
  - name: Providers
    description: Casas de apostas suportadas
  - name: Tickets
    description: Gerenciamento de bilhetes de apostas
  - name: Authentication
    description: Endpoints de autenticação
  - name: Bankrolls
    description: Gerenciamento de bancas de apostas
  - name: Admin - Tournaments
    description: Gerenciamento de torneios (somente ADMIN)
  - name: Analytics
    description: Análise de performance de apostas
  - name: Health
    description: Health check endpoints
paths:
  /api/tickets:
    get:
      tags:
        - Tickets
      summary: Listar bilhetes
      description: Lista bilhetes do usuário com filtros opcionais
      operationId: list
      parameters:
        - name: status
          in: query
          required: false
          schema:
            type: string
            enum:
              - OPEN
              - WIN
              - LOST
              - VOID
              - CASHOUT
        - name: financialStatus
          in: query
          required: false
          schema:
            type: string
            enum:
              - PENDING
              - FULL_WIN
              - PARTIAL_WIN
              - BREAK_EVEN
              - PARTIAL_LOSS
              - TOTAL_LOSS
        - name: providerId
          in: query
          required: false
          schema:
            type: integer
            format: int64
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 0
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 20
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/PagedResponseTicketResponse'
    post:
      tags:
        - Tickets
      summary: Criar bilhete manual
      description: Cria um bilhete manualmente
      operationId: createManual
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateManualTicketRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/TicketResponse'
  /api/tickets/refresh-open:
    post:
      tags:
        - Tickets
      summary: Atualizar bilhetes em aberto
      description: Dispara atualização assíncrona dos bilhetes em aberto do usuário.
        Retorna imediatamente com status 202 Accepted enquanto o processamento ocorre
        em background. Ideal para chamar no login do app.
      operationId: refreshOpenTickets
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/RefreshOpenTicketsResponse'
  /api/tickets/import:
    post:
      tags:
        - Tickets
      summary: Importar bilhete via URL
      description: Importa um bilhete a partir de uma URL compartilhada
      operationId: importFromUrl
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ImportTicketRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/TicketResponse'
  /api/test/post:
    post:
      tags:
        - test-controller
      operationId: postTeste
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: string
  /api/providers/check-url:
    post:
      tags:
        - Providers
      summary: Verificar URL
      description: Verifica se uma URL é suportada e extrai informações
      operationId: checkUrl
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CheckUrlRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/CheckUrlResponse'
  /api/bankrolls:
    get:
      tags:
        - Bankrolls
      summary: Listar bancas
      description: Lista todas as bancas ativas do usuário
      operationId: list_2
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BankrollResponse'
    post:
      tags:
        - Bankrolls
      summary: Criar banca
      description: Cria uma nova banca de apostas
      operationId: create
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateBankrollRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/BankrollResponse'
  /api/bankrolls/{id}/transactions:
    get:
      tags:
        - Bankrolls
      summary: Listar transações
      description: Lista as transações de uma banca
      operationId: listTransactions
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 0
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 20
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/PagedResponseTransactionResponse'
    post:
      tags:
        - Bankrolls
      summary: Registrar transação
      description: "Registra uma transação na banca (depósito, saque, etc)"
      operationId: recordTransaction
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RecordTransactionRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/TransactionResponse'
  /api/auth/register:
    post:
      tags:
        - Authentication
      summary: Registrar novo usuário
      operationId: register
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/AuthResponse'
  /api/auth/refresh:
    post:
      tags:
        - Authentication
      summary: Renovar access token usando refresh token
      operationId: refreshToken
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefreshTokenRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/TokenRefreshResponse'
  /api/auth/logout:
    post:
      tags:
        - Authentication
      summary: Logout do usuário (invalida tokens no cliente)
      operationId: logout
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: object
                additionalProperties:
                  type: string
  /api/auth/login:
    post:
      tags:
        - Authentication
      summary: Login do usuário
      operationId: login
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/AuthResponse'
  /api/auth/change-password:
    post:
      tags:
        - Authentication
      summary: Alterar senha do usuário autenticado
      operationId: changePassword
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChangePasswordRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: object
                additionalProperties:
                  type: string
  /api/admin/tournaments/import:
    post:
      tags:
        - Admin - Tournaments
      summary: Importar torneios
      description: Importa torneios de um esporte específico da API do provider
      operationId: importTournaments
      parameters:
        - name: provider
          in: query
          required: false
          schema:
            type: string
            default: superbet
        - name: sportId
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 5
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/TournamentImportResponse'
  /api/tickets/{id}/status:
    patch:
      tags:
        - Tickets
      summary: Atualizar status do bilhete
      description: Atualiza o status e/ou payout de um bilhete
      operationId: updateStatus
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTicketStatusRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/TicketResponse'
  /api/tickets/{id}:
    get:
      tags:
        - Tickets
      summary: Buscar bilhete por ID
      description: Retorna os detalhes de um bilhete específico
      operationId: getById
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/TicketResponse'
    delete:
      tags:
        - Tickets
      summary: Deletar bilhete
      description: Remove um bilhete do sistema
      operationId: delete
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        "200":
          description: OK
  /api/test/open:
    get:
      tags:
        - test-controller
      operationId: open
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: string
  /api/providers:
    get:
      tags:
        - Providers
      summary: Listar provedores
      description: Lista todas as casas de apostas cadastradas
      operationId: list_1
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProviderResponse'
  /api/providers/{id}:
    get:
      tags:
        - Providers
      summary: Buscar provedor por ID
      description: Retorna os detalhes de um provedor específico
      operationId: getById_1
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ProviderResponse'
  /api/providers/supported:
    get:
      tags:
        - Providers
      summary: Listar provedores suportados
      description: Lista os slugs dos provedores com parser implementado
      operationId: getSupportedProviders
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  type: string
  /api/providers/slug/{slug}:
    get:
      tags:
        - Providers
      summary: Buscar provedor por slug
      description: Retorna os detalhes de um provedor pelo slug
      operationId: getBySlug
      parameters:
        - name: slug
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ProviderResponse'
  /api/providers/active:
    get:
      tags:
        - Providers
      summary: Listar provedores ativos
      description: Lista apenas as casas de apostas ativas
      operationId: listActive
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProviderResponse'
  /api/health:
    get:
      tags:
        - Health
      summary: Health check
      description: Verifica se a aplicação está funcionando
      operationId: health
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/HealthResponse'
  /api/bankrolls/{id}:
    get:
      tags:
        - Bankrolls
      summary: Buscar banca por ID
      description: Retorna os detalhes de uma banca específica
      operationId: getById_2
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/BankrollResponse'
    delete:
      tags:
        - Bankrolls
      summary: Desativar banca
      description: Desativa uma banca (soft delete)
      operationId: deactivate
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        "200":
          description: OK
  /api/bankrolls/summary:
    get:
      tags:
        - Bankrolls
      summary: Resumo das bancas
      description: Retorna o resumo consolidado de todas as bancas
      operationId: getSummary
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/BankrollSummaryResponse'
  /api/auth/me:
    get:
      tags:
        - Authentication
      summary: Obter dados do usuário autenticado
      operationId: getCurrentUser
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/UserResponse'
  /api/analytics/overall:
    get:
      tags:
        - Analytics
      summary: Performance geral
      description: Retorna métricas gerais de performance do usuário
      operationId: getOverallPerformance
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/OverallPerformanceResponse'
  /api/analytics/by-tournament:
    get:
      tags:
        - Analytics
      summary: Performance por torneio
      description: Retorna performance agrupada por campeonato/torneio
      operationId: getPerformanceByTournament
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PerformanceByTournamentResponse'
  /api/analytics/by-provider:
    get:
      tags:
        - Analytics
      summary: Performance por casa
      description: Retorna performance agrupada por casa de apostas
      operationId: getPerformanceByProvider
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PerformanceByProviderResponse'
  /api/analytics/by-market:
    get:
      tags:
        - Analytics
      summary: Performance por mercado
      description: Retorna performance agrupada por tipo de mercado
      operationId: getPerformanceByMarket
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PerformanceByMarketResponse'
  /api/analytics/bankroll-evolution:
    get:
      tags:
        - Analytics
      summary: Evolução consolidada de saldo
      description: Retorna a evolução do saldo consolidado de todas as bancas do usuário
      operationId: getConsolidatedEvolution
      parameters:
        - name: startDate
          in: query
          required: false
          schema:
            type: integer
            format: int64
        - name: endDate
          in: query
          required: false
          schema:
            type: integer
            format: int64
        - name: granularity
          in: query
          required: false
          schema:
            type: string
            default: day
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ConsolidatedEvolutionResponse'
  /api/analytics/bankroll-evolution/{bankrollId}:
    get:
      tags:
        - Analytics
      summary: Evolução de saldo de uma banca
      description: Retorna a evolução do saldo de uma banca específica
      operationId: getBankrollEvolution
      parameters:
        - name: bankrollId
          in: path
          required: true
          schema:
            type: integer
            format: int64
        - name: startDate
          in: query
          required: false
          schema:
            type: integer
            format: int64
        - name: endDate
          in: query
          required: false
          schema:
            type: integer
            format: int64
        - name: granularity
          in: query
          required: false
          schema:
            type: string
            default: day
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/BankrollEvolutionResponse'
  /api/admin/tournaments:
    get:
      tags:
        - Admin - Tournaments
      summary: Listar torneios
      description: Lista todos os torneios importados de um provider
      operationId: listTournaments
      parameters:
        - name: provider
          in: query
          required: false
          schema:
            type: string
            default: superbet
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TournamentResponse'
  /api/admin/tournaments/stats:
    get:
      tags:
        - Admin - Tournaments
      summary: Estatísticas de torneios
      description: Retorna estatísticas de torneios importados
      operationId: getStats
      parameters:
        - name: provider
          in: query
          required: false
          schema:
            type: string
            default: superbet
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/TournamentStatsResponse'
  /api/admin/tournaments/sports:
    get:
      tags:
        - Admin - Tournaments
      summary: Listar esportes
      description: Lista todos os esportes de um provider
      operationId: listSports
      parameters:
        - name: provider
          in: query
          required: false
          schema:
            type: string
            default: superbet
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SportResponse'
components:
  schemas:
    CreateManualTicketRequest:
      required:
        - betType
        - providerId
        - selections
        - stake
        - totalOdd
      type: object
      properties:
        providerId:
          type: integer
          format: int64
        bankrollId:
          type: integer
          format: int64
        betType:
          type: string
          enum:
            - SINGLE
            - MULTIPLE
            - SYSTEM
        stake:
          type: number
        totalOdd:
          type: number
        potentialPayout:
          type: number
        systemDescription:
          type: string
        placedAt:
          type: integer
          format: int64
        selections:
          type: array
          items:
            $ref: '#/components/schemas/CreateSelectionRequest'
    CreateSelectionRequest:
      required:
        - eventName
        - odd
        - selection
      type: object
      properties:
        eventName:
          type: string
        tournamentId:
          type: integer
          format: int64
        marketType:
          type: string
        selection:
          type: string
        odd:
          type: number
        eventDate:
          type: integer
          format: int64
    SelectionResponse:
      required:
        - eventName
        - odd
        - selection
        - status
      type: object
      properties:
        id:
          type: integer
          format: int64
        eventName:
          type: string
        tournamentName:
          type: string
        marketType:
          type: string
        selection:
          type: string
        odd:
          type: number
        status:
          type: string
          enum:
            - PENDING
            - WON
            - HALF_WON
            - LOST
            - HALF_LOST
            - VOID
            - CASHOUT
        eventDate:
          type: integer
          format: int64
        eventResult:
          type: string
    TicketResponse:
      required:
        - betSide
        - betType
        - createdAt
        - financialStatus
        - id
        - isCashedOut
        - profitLoss
        - providerId
        - roi
        - selections
        - stake
        - ticketStatus
        - totalOdd
        - updatedAt
      type: object
      properties:
        id:
          type: integer
          format: int64
        providerId:
          type: integer
          format: int64
        providerName:
          type: string
        bankrollId:
          type: integer
          format: int64
        externalTicketId:
          type: string
        sourceUrl:
          type: string
        betType:
          type: string
          enum:
            - SINGLE
            - MULTIPLE
            - SYSTEM
        betSide:
          type: string
          enum:
            - BACK
            - LAY
        stake:
          type: number
        totalOdd:
          type: number
        potentialPayout:
          type: number
        actualPayout:
          type: number
        ticketStatus:
          type: string
          enum:
            - OPEN
            - WIN
            - LOST
            - VOID
            - CASHOUT
        financialStatus:
          type: string
          enum:
            - PENDING
            - FULL_WIN
            - PARTIAL_WIN
            - BREAK_EVEN
            - PARTIAL_LOSS
            - TOTAL_LOSS
        profitLoss:
          type: number
        roi:
          type: number
        systemDescription:
          type: string
        placedAt:
          type: integer
          format: int64
        settledAt:
          type: integer
          format: int64
        isCashedOut:
          type: boolean
        selections:
          type: array
          items:
            $ref: '#/components/schemas/SelectionResponse'
        createdAt:
          type: integer
          format: int64
        updatedAt:
          type: integer
          format: int64
    RefreshOpenTicketsResponse:
      required:
        - message
        - status
        - ticketsToRefresh
      type: object
      properties:
        message:
          type: string
        ticketsToRefresh:
          type: integer
          format: int32
        status:
          type: string
          enum:
            - PROCESSING
            - COMPLETED
            - PARTIAL_ERROR
            - FAILED
    ImportTicketRequest:
      required:
        - url
      type: object
      properties:
        url:
          type: string
        bankrollId:
          type: integer
          format: int64
    CheckUrlRequest:
      required:
        - url
      type: object
      properties:
        url:
          type: string
    CheckUrlResponse:
      required:
        - isSupported
      type: object
      properties:
        isSupported:
          type: boolean
        providerSlug:
          type: string
        providerName:
          type: string
        ticketCode:
          type: string
    CreateBankrollRequest:
      required:
        - currency
        - name
      type: object
      properties:
        name:
          type: string
        providerId:
          type: integer
          format: int64
        currency:
          type: string
        initialDeposit:
          type: number
    BankrollResponse:
      required:
        - createdAt
        - currency
        - currentBalance
        - id
        - isActive
        - name
        - profitLoss
        - roi
        - totalDeposited
        - totalReturns
        - totalStaked
        - totalWithdrawn
        - updatedAt
      type: object
      properties:
        id:
          type: integer
          format: int64
        providerId:
          type: integer
          format: int64
        providerName:
          type: string
        name:
          type: string
        currency:
          type: string
        currentBalance:
          type: number
        totalDeposited:
          type: number
        totalWithdrawn:
          type: number
        totalStaked:
          type: number
        totalReturns:
          type: number
        profitLoss:
          type: number
        roi:
          type: number
        isActive:
          type: boolean
        createdAt:
          type: integer
          format: int64
        updatedAt:
          type: integer
          format: int64
    RecordTransactionRequest:
      required:
        - amount
        - bankrollId
        - type
      type: object
      properties:
        bankrollId:
          type: integer
          format: int64
        type:
          type: string
          enum:
            - DEPOSIT
            - WITHDRAWAL
            - BET_PLACED
            - BET_RETURN
            - BONUS
            - ADJUSTMENT
        amount:
          type: number
        description:
          type: string
    TransactionResponse:
      required:
        - amount
        - balanceAfter
        - bankrollId
        - createdAt
        - id
        - type
      type: object
      properties:
        id:
          type: integer
          format: int64
        bankrollId:
          type: integer
          format: int64
        ticketId:
          type: integer
          format: int64
        type:
          type: string
          enum:
            - DEPOSIT
            - WITHDRAWAL
            - BET_PLACED
            - BET_RETURN
            - BONUS
            - ADJUSTMENT
        amount:
          type: number
        balanceAfter:
          type: number
        description:
          type: string
        createdAt:
          type: integer
          format: int64
    RegisterRequest:
      required:
        - email
        - name
        - password
      type: object
      properties:
        name:
          maxLength: 100
          minLength: 2
          type: string
        email:
          type: string
        password:
          maxLength: 100
          minLength: 6
          type: string
    AuthResponse:
      required:
        - accessToken
        - expiresIn
        - refreshToken
        - tokenType
        - user
      type: object
      properties:
        accessToken:
          type: string
        refreshToken:
          type: string
        tokenType:
          type: string
        expiresIn:
          type: integer
          format: int64
        user:
          $ref: '#/components/schemas/UserResponse'
    UserResponse:
      required:
        - createdAt
        - email
        - id
        - name
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        email:
          type: string
        createdAt:
          type: integer
          format: int64
    RefreshTokenRequest:
      required:
        - refreshToken
      type: object
      properties:
        refreshToken:
          type: string
    TokenRefreshResponse:
      required:
        - accessToken
        - expiresIn
        - refreshToken
        - tokenType
      type: object
      properties:
        accessToken:
          type: string
        refreshToken:
          type: string
        tokenType:
          type: string
        expiresIn:
          type: integer
          format: int64
    LoginRequest:
      required:
        - email
        - password
      type: object
      properties:
        email:
          type: string
        password:
          type: string
    ChangePasswordRequest:
      required:
        - currentPassword
        - newPassword
      type: object
      properties:
        currentPassword:
          type: string
        newPassword:
          maxLength: 100
          minLength: 6
          type: string
    TournamentImportResponse:
      required:
        - message
        - newTournaments
        - sportId
        - sportName
        - totalImported
        - updatedTournaments
      type: object
      properties:
        sportId:
          type: integer
          format: int32
        sportName:
          type: string
        totalImported:
          type: integer
          format: int32
        newTournaments:
          type: integer
          format: int32
        updatedTournaments:
          type: integer
          format: int32
        message:
          type: string
    UpdateTicketStatusRequest:
      required:
        - ticketId
      type: object
      properties:
        ticketId:
          type: integer
          format: int64
        actualPayout:
          type: number
        ticketStatus:
          type: string
          enum:
            - OPEN
            - WIN
            - LOST
            - VOID
            - CASHOUT
    PagedResponseTicketResponse:
      required:
        - content
        - hasNext
        - hasPrevious
        - page
        - pageSize
        - totalElements
        - totalPages
      type: object
      properties:
        content:
          type: array
          items:
            $ref: '#/components/schemas/TicketResponse'
        page:
          type: integer
          format: int32
        pageSize:
          type: integer
          format: int32
        totalElements:
          type: integer
          format: int64
        totalPages:
          type: integer
          format: int32
        hasNext:
          type: boolean
        hasPrevious:
          type: boolean
    ProviderResponse:
      required:
        - id
        - isActive
        - isSupported
        - name
        - slug
      type: object
      properties:
        id:
          type: integer
          format: int64
        slug:
          type: string
        name:
          type: string
        isActive:
          type: boolean
        websiteUrl:
          type: string
        logoUrl:
          type: string
        isSupported:
          type: boolean
    HealthResponse:
      required:
        - status
        - timestamp
        - version
      type: object
      properties:
        status:
          type: string
        timestamp:
          type: string
          format: date-time
        version:
          type: string
    PagedResponseTransactionResponse:
      required:
        - content
        - hasNext
        - hasPrevious
        - page
        - pageSize
        - totalElements
        - totalPages
      type: object
      properties:
        content:
          type: array
          items:
            $ref: '#/components/schemas/TransactionResponse'
        page:
          type: integer
          format: int32
        pageSize:
          type: integer
          format: int32
        totalElements:
          type: integer
          format: int64
        totalPages:
          type: integer
          format: int32
        hasNext:
          type: boolean
        hasPrevious:
          type: boolean
    BankrollSummaryResponse:
      required:
        - bankrollCount
        - overallProfitLoss
        - overallRoi
        - totalBalance
        - totalDeposited
        - totalReturns
        - totalStaked
        - totalWithdrawn
      type: object
      properties:
        totalBalance:
          type: number
        totalDeposited:
          type: number
        totalWithdrawn:
          type: number
        totalStaked:
          type: number
        totalReturns:
          type: number
        overallProfitLoss:
          type: number
        overallRoi:
          type: number
        bankrollCount:
          type: integer
          format: int32
    OverallPerformanceResponse:
      required:
        - averageStake
        - breakEven
        - fullWins
        - losses
        - medianOdd
        - openBets
        - partialLosses
        - partialWins
        - profitLoss
        - roi
        - settledBets
        - totalBets
        - totalLosses
        - totalReturns
        - totalStaked
        - winRate
        - wins
      type: object
      properties:
        totalBets:
          type: integer
          format: int64
        settledBets:
          type: integer
          format: int64
        openBets:
          type: integer
          format: int64
        fullWins:
          type: integer
          format: int64
        partialWins:
          type: integer
          format: int64
        breakEven:
          type: integer
          format: int64
        partialLosses:
          type: integer
          format: int64
        totalLosses:
          type: integer
          format: int64
        wins:
          type: integer
          format: int64
        losses:
          type: integer
          format: int64
        winRate:
          type: number
        totalStaked:
          type: number
        totalReturns:
          type: number
        profitLoss:
          type: number
        roi:
          type: number
        medianOdd:
          type: number
        averageStake:
          type: number
    PerformanceByTournamentResponse:
      required:
        - breakEven
        - fullWins
        - losses
        - partialLosses
        - partialWins
        - totalBets
        - totalLosses
        - tournamentName
        - winRate
        - wins
      type: object
      properties:
        tournamentName:
          type: string
        tournamentLocalName:
          type: string
        totalBets:
          type: integer
          format: int64
        fullWins:
          type: integer
          format: int64
        partialWins:
          type: integer
          format: int64
        breakEven:
          type: integer
          format: int64
        partialLosses:
          type: integer
          format: int64
        totalLosses:
          type: integer
          format: int64
        wins:
          type: integer
          format: int64
        losses:
          type: integer
          format: int64
        winRate:
          type: number
    PerformanceByProviderResponse:
      required:
        - breakEven
        - fullWins
        - losses
        - partialLosses
        - partialWins
        - profitLoss
        - providerId
        - providerName
        - roi
        - totalBets
        - totalLosses
        - winRate
        - wins
      type: object
      properties:
        providerId:
          type: integer
          format: int64
        providerName:
          type: string
        totalBets:
          type: integer
          format: int64
        fullWins:
          type: integer
          format: int64
        partialWins:
          type: integer
          format: int64
        breakEven:
          type: integer
          format: int64
        partialLosses:
          type: integer
          format: int64
        totalLosses:
          type: integer
          format: int64
        wins:
          type: integer
          format: int64
        losses:
          type: integer
          format: int64
        winRate:
          type: number
        profitLoss:
          type: number
        roi:
          type: number
    BetBuilderComponentStats:
      required:
        - losses
        - marketName
        - selectionName
        - totalBets
        - winRate
        - wins
      type: object
      properties:
        marketName:
          type: string
        selectionName:
          type: string
        totalBets:
          type: integer
          format: int64
        wins:
          type: integer
          format: int64
        losses:
          type: integer
          format: int64
        winRate:
          type: number
    PerformanceByMarketResponse:
      required:
        - breakEven
        - fullWins
        - losses
        - marketType
        - partialLosses
        - partialWins
        - totalBets
        - totalLosses
        - winRate
        - wins
      type: object
      properties:
        marketType:
          type: string
        totalBets:
          type: integer
          format: int64
        fullWins:
          type: integer
          format: int64
        partialWins:
          type: integer
          format: int64
        breakEven:
          type: integer
          format: int64
        partialLosses:
          type: integer
          format: int64
        totalLosses:
          type: integer
          format: int64
        wins:
          type: integer
          format: int64
        losses:
          type: integer
          format: int64
        winRate:
          type: number
        betBuilderComponents:
          type: array
          items:
            $ref: '#/components/schemas/BetBuilderComponentStats'
    BankrollEvolutionPoint:
      required:
        - balance
        - date
        - profitLoss
        - roi
      type: object
      properties:
        date:
          type: integer
          format: int64
        balance:
          type: number
          format: double
        profitLoss:
          type: number
          format: double
        roi:
          type: number
          format: double
    ConsolidatedEvolutionResponse:
      required:
        - byProvider
        - evolution
        - overallRoi
        - totalCurrentBalance
        - totalProfitLoss
      type: object
      properties:
        totalCurrentBalance:
          type: number
          format: double
        totalProfitLoss:
          type: number
          format: double
        overallRoi:
          type: number
          format: double
        evolution:
          type: array
          items:
            $ref: '#/components/schemas/BankrollEvolutionPoint'
        byProvider:
          type: array
          items:
            $ref: '#/components/schemas/ProviderEvolutionSummary'
    ProviderEvolutionSummary:
      required:
        - currentBalance
        - profitLoss
        - providerId
        - providerName
        - roi
      type: object
      properties:
        providerId:
          type: integer
          format: int64
        providerName:
          type: string
        currentBalance:
          type: number
          format: double
        profitLoss:
          type: number
          format: double
        roi:
          type: number
          format: double
    BankrollEvolutionResponse:
      required:
        - bankrollId
        - bankrollName
        - currency
        - currentBalance
        - evolution
        - overallRoi
        - totalProfitLoss
      type: object
      properties:
        bankrollId:
          type: integer
          format: int64
        bankrollName:
          type: string
        providerName:
          type: string
        currency:
          type: string
        currentBalance:
          type: number
          format: double
        totalProfitLoss:
          type: number
          format: double
        overallRoi:
          type: number
          format: double
        evolution:
          type: array
          items:
            $ref: '#/components/schemas/BankrollEvolutionPoint'
    TournamentResponse:
      required:
        - externalId
        - id
        - name
        - providerId
        - sportId
      type: object
      properties:
        id:
          type: integer
          format: int64
        externalId:
          type: integer
          format: int32
        name:
          type: string
        localName:
          type: string
        sportId:
          type: integer
          format: int64
        providerId:
          type: integer
          format: int64
    SportWithTournamentCount:
      required:
        - sportId
        - sportName
        - tournamentCount
      type: object
      properties:
        sportId:
          type: integer
          format: int64
        sportName:
          type: string
        tournamentCount:
          type: integer
          format: int32
    TournamentStatsResponse:
      required:
        - providerId
        - providerName
        - sports
        - totalSports
        - totalTournaments
      type: object
      properties:
        providerId:
          type: integer
          format: int64
        providerName:
          type: string
        totalSports:
          type: integer
          format: int32
        totalTournaments:
          type: integer
          format: int64
        sports:
          type: array
          items:
            $ref: '#/components/schemas/SportWithTournamentCount'
    SportResponse:
      required:
        - externalId
        - id
        - name
        - providerId
      type: object
      properties:
        id:
          type: integer
          format: int64
        externalId:
          type: integer
          format: int32
        name:
          type: string
        providerId:
          type: integer
          format: int64
